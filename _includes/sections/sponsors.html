<div class="container" style="padding-bottom: 30px" id="i18_sponsors">
    <div class="row m-b-lg">
        <div class="col-lg-12 text-center">
            <div class="navy-line"></div>
            <h1><span data-i18n="sponsors.title">Patrocinadores</span></h1>
        </div>
    </div>
    <div class="row">
    	<div class="row m-b-xl">
    		<div class="col-xs-12 m-b-md">
    			<h1 style="text-align: center; font-size: 24px; color: #668cff">Platino</h1>
    		</div>
    		<div class="col-md-offset-4 col-md-4 col-xs-12 col-sm-12">
                <a class="img-responsive" href="{{ site.data.sponsors.platinum.link }}" target="_blank"><img src="{{ site.data.sponsors.platinum.img | prepend: site.baseurl }}" class="img-responsive" alt="{{ site.data.sponsors.platinum.name }}" style="margin-left: auto; margin-right: auto"></a>
            </div>
    	</div>
        <br/>
    	<div class="row">
    		<div class="col-xs-12">
    			<h1 style="text-align: center; font-size: 24px; color: #668cff">Oro</h1>
    		</div>
    	</div>
    	<div id="gold-sponsors" class="row shuffle gold-slick">
        {% for sponsor in site.data.sponsors.gold %}
            <div class="col-xs-4" style="{{ sponsor.container-style }}">
                <a class="img-responsive" href="{{ sponsor.link }}" target="_blank"><img src="{{ sponsor.img | prepend: site.baseurl }}" class="img-responsive" alt="{{ sponsor.name }}" style="margin-left: auto; margin-right: auto; max-height: {{ sponsor.max-height }}"></a>
            </div>
        {% endfor %}
        </div>
        <br/>
        <br/>
        <div class="row">
            <div class="col-xs-12 m-b-md">
                <h1 style="text-align: center; font-size: 24px; color: #668cff">Plata</h1>
            </div>
        </div>
        {% for sponsor in site.data.sponsors.silver %}
        {% assign idx = forloop.index %}
        {% assign idx0 = forloop.index0 %}
        {% assign loopmod = idx0 | modulo: 4 %}
        {% assign lastmod = forloop.length | modulo: 4 %}
        {% if forloop.first == true %}
        <div class="row">
        {% elsif loopmod == 0 %}
        </div><div class="row">
        {% endif %}
            {% assign higherthan = forloop.length | minus: lastmod | plus: 1 %}
            {% if idx == higherthan %}
            {% assign offsetlm = lastmod | times: 3 %}
            {% assign offset = 12 | minus: offsetlm | divided_by: 2 %}
            <div class="col-sm-offset-{{ offset }} col-sm-3" style="{{ sponsor.container-style }}">
            {% else %}
            <div class="col-sm-3" style="{{ sponsor.container-style }}">
            {% endif %}
                <a class="img-responsive" href="{{ sponsor.link }}" target="_blank"><img src="{{ sponsor.img | prepend: site.baseurl }}" class="img-responsive" alt="{{ sponsor.name }}" style="margin-left: auto; margin-right: auto; max-height: {{ sponsor.max-height }}"></a>
            </div>
        {% if forloop.last == true %}
        </div>
        {% endif %}
        {% endfor %}
    </div>
    <script type="text/javascript">
	    /*
	    * Snippet taken from: https://css-tricks.com/snippets/jquery/shuffle-dom-elements/
	    */
    	/*(function($){
		    $.fn.shuffle = function() {
		        var allElems = this.get(),
		            getRandom = function(max) {
		                return Math.floor(Math.random() * max);
		            },
		            shuffled = $.map(allElems, function(){
		                var random = getRandom(allElems.length),
		                    randEl = $(allElems[random]).clone(true)[0];
		                allElems.splice(random, 1);
		                return randEl;
		           });

		        this.each(function(i){
		            $(this).replaceWith($(shuffled[i]));
		        });

		        return $(shuffled);
		    };
		})(jQuery);*/
		/*
		* End of snippet
		*/
	    $(document).ready(function(){
	    	if (screen.width >= 768){
	    		$('#gold-sponsors .row div').unwrap('.row');
	    		$('.shuffle').sort(function(){
	    			return (Math.round(Math.random()) - 0.5)
	    		});
	    		var gold_sponsors_div = $('#gold-sponsors div');
	    		gold_sponsors_div.removeClass("col-xs-4");
	    		gold_sponsors_div.addClass("slick-slide");
	    		gold_sponsors_div.css("top", "0px");
	    		$('.gold-slick').slick({
					slidesToScroll: 1,
					slidesToShow: 3,
					dots: false,
					arrows: true,
					centerMode: false,
					autoplay: true,
					autoplaySpeed: 4000,
					pauseOnHover: true,
					infinite: true
				});
	    	}
	    });
    </script>
</div>
